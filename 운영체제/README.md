# 운영체제

### 목차
- [1강. 운영체제 소개](#1강-운영체제-소개)
  - [운영체제란 무엇인가?](#운영체제란-무엇인가?)
    - [커널](#커널)
  - [운영체제의 구성](#운영체제의-구성)
  - [운영체제의 유형](#운영체제의-유형)

## 1강. 운영체제 소개
### 운영체제란 무엇인가?
- 컴퓨터 시스템의 구성
  - 하드웨어
    - CPU, 메모리, 저장장치, 입출력장치, 네트워크 장치 등
  - 소프트웨어  
    ![image](https://user-images.githubusercontent.com/61646760/220266879-64957689-4bd6-498c-97a3-1541577073fa.png)
    - **응용 소프트웨어(application software)** : 우리가 의식적으로 사용하는 소프트웨어들
    - **시스템 소프트웨어(system software)** : 응용 소프트웨어와 하드웨어 사이에서 매개체 역할을 수행(하드웨어 관리 역할이 주)
- **운영체제**
  - 대표적인 시스템 소프트웨어
  - 컴퓨터 시스템의 **자원을 관리**하고 컴퓨터 **프로그램이 동작하기 위한 서비스를 제공**하는 프로그램들의 모음
- 운영체제의 역할
  - **컴퓨터 시스템의 자원 관리**
    - 자원: 하드웨어 자원, 소프트웨어 자원, 데이터
      - `예) 저장장치에서 데이터 읽어 오기, 키보드나 마우스 제어, 프로그램 동시 실행 시 CPU와 메모리를 효율적으로 관리`
    - 컴퓨터 시스템을 **효율적으로 운영**하는 목적
  - **사용자 지원**
    - 사용자가 내린 명령을 해석하여 실행하게 함
    - 사용자와 하드웨어 사이의 매개체 역할
    - 사용자에게 편의성을 제공하는 목적
- 컴퓨터 시스템과 운영체제
  - **운영체제가 없던 초기의 컴퓨터 시스템**
    - **응용 프로그램이 직접 컴퓨터 시스템의 자원 제어**
      - 응용 프로그램 개발자는 하드웨어 제어방법을 잘 알아야 함
    - 여러 사용자가 하드웨어를 공유하는 경우 **자원 분할 어려움**  
      ![image](https://user-images.githubusercontent.com/61646760/220268778-a0e5fd42-253d-4377-8458-273c8e1e67a1.png)
      - 각각의 응용 프로그램이 독립적으로 동작하는 경우, **개별 응용 프로그램은 자신이 사용할 자원에 대해서만 제어를 수행하므로 충돌 가능성**이 있음
      - 가령 두 프로그램이 하드웨어의 특정 자원을 동시에 이용하려 한다면 문제가 발생할 수 있음
  - **운영체제가 있는 컴퓨터 시스템**
    - 하드웨어와 응용 프로그램 사이에 운영체제 위치
    - 운영체제가 컴퓨터 시스템의 자원 제어
    - 컴퓨터 시스템이 안정적이고 효율적으로 동작하도록 함  
      ![image](https://user-images.githubusercontent.com/61646760/220269643-9026b470-573f-4686-bde4-e2f0d19d1bbc.png)
      - 각각의 응용 프로그램이 독립적으로 동작하더라도, **운영체제가 중간에서** (순서 조정과 같은 방법으로) 사용할 자원의 중복이 없게끔 하는 등 **자원을 제어**해 줌
#### 커널
- **커널(kernel)**
  - 커널 모드에서 동작하는 **운영체제의 핵심 요소**
    - 응용 프로그램과 하드웨어 수준의 처리 사이의 가교 역할
  - 운영체제=커널?
    - 커널 구성 방식에 따라 다름
  - 구성 방식 : 일체형 커널, 마이크로커널
- **일체형 커널(monolithic kernel)**
  - 운영체제의 모든 서비스가 커널 내에 포함됨
    - 이 경우 **운영체제=커널**
  - 장점
    - 커널 내부 요소들이 서로 **효율적으로 상호작용**을 함
  - 단점
    - 한 요소라도 오류가 발생하면 시스템 전체에 장애 발생 가능
  - `예) UNIX, Linux`
- **마이크로커널(microkernel)**
  - 운영체제 요소의 대부분을 **커널 외부로 분리**
    - 운영체제의 기본적인 요소들만 남긴 채 커널 최소화
    - 메모리 관리, 멀티태스킹, 프로세스 간 통신(IPC) 등 **최소한의 요소만 커널 내**에 남김
  - 장점
    - 새로운 서비스를 추가하여 **운영체제를 확장하기 쉬움**
    - 유지보수가 용이하여 **안정성이 우수**함
  - 단점
    - 커널 외부 요소들 사이는 IPC(Inter-Process Communication)가 필요하여 **성능저하 발생**
- 커널 모드와 사용자 모드
  - **커널 모드(슈퍼바이저 모드)**
    - 하드웨어를 직접 제어할 수 있는 CPU 명령어를 사용할 수 있는 모드
    - 운영체제의 커널이 동작함  
      ![image](https://user-images.githubusercontent.com/61646760/220271469-786be568-8254-403f-9d56-52d540d4b40b.png)
  - **사용자 모드(보호 모드)**
    - 하드웨어를 직접 제어할 수 있는 CPU 명령어를 사용할 수 없는 모드
    - 응용 프로그램이 동작함  
      ![image](https://user-images.githubusercontent.com/61646760/220271678-4d6fd63e-f6ab-4bb8-bad0-5479675e48d9.png)
- **시스템 호출(system call)**
  - 응용 프로그램이 **하드웨어에 대한 제어가 필요한 경우** 이용
  - **운영체제에 서비스를 요청**하는 메커니즘  
    ![image](https://user-images.githubusercontent.com/61646760/220274541-664a6df0-633d-4728-a41b-1f38ad262111.png)
    - 시스템 호출을 통해 운영체제에게 하드웨어를 건드리고 싶다(하드웨어의 자원을 사용하고 싶다)고 요청하면, 사용자 모드에서 응용 프로그램이 동작하다가 그 순간 **커널 모드로 전환**됨
    - 시스템 호출에 맞춰 운영체제가 하드웨어를 제어하고 처리해 줌
    - 시스템 호출의 요구를 만족시키면 다시 응용 프로그램에 제어를 넘겨 주고, **커널 모드에서 사용자 모드로 전환**됨
### 운영체제의 구성
- 컴퓨터 시스템의 자원의 성격에 따라 구분  
  ![image](https://user-images.githubusercontent.com/61646760/220275829-ac04aa25-c6ee-4a61-81d2-24c7d4790ab5.png)
- **프로세스 관리자**
  - 프로세스의 생성 및 삭제
  - CPU 할당을 위한 스케줄 결정
  - 프로세스의 상태를 관리하며 상태 전이 처리  
    ![image](https://user-images.githubusercontent.com/61646760/220276168-5f9a21c2-8942-4e7d-a171-021c788866d9.png)
    - 저장 장치에 파일 형태로 들어 있는 **프로그램**을 메모리에 올려 실행시키면 **프로세스**가 됨
    - 프로세스 속 여러 명령어를 실행시키는 역할은 CPU가 하므로, **프로세스는 CPU를 할당받아 작업을 처리**해야 하며, 이 과정에 스케줄링이 필요함
  - 2강부터 상세히 설명
- **메모리 관리자**
  - 메모리(주기억장치) 공간에 대한 요구의 유효성 확인
  - 메모리 할당 및 회수
  - 메모리 공간 보호  
    ![image](https://user-images.githubusercontent.com/61646760/220285509-acb72a6d-6fa2-483b-be05-48f6f9fc8a80.png)
    - 메모리의 특정 영역을 브라우저라는 프로세스에게 할당
    - 문서편집기를 실행할 때 브라우저가 이미 할당받아 사용 중인 공간과 겹친다면 유효성을 확인하여 겹치지 않는 메모리 공간을 문서편집기에 할당
    - 운영체제 혹은 **커널도 시스템 프로세스로서 메모리 공간을 할당받아 사용**함
  - 8강부터 상세히 설명
- **장치 관리자**
  - 컴퓨터 시스템의 모든 장치 관리
  - 시스템 장치의 할당, 작동, 반환  
    ![image](https://user-images.githubusercontent.com/61646760/220286249-d432915a-283d-43a0-84a6-fba00e57977e.png)
  - 11강-12강에서 상세히 설명
- **파일 관리자**
  - 컴퓨터 시스템의 모든 파일 관리
  - 저장장치의 공간 관리
  - 파일의 접근 제한 관리  
    ![image](https://user-images.githubusercontent.com/61646760/220286404-b35abe38-01dc-497d-afd5-52a5bc33945f.png)
  - 12강에서 상세히 설명
### 운영체제의 유형
- 대표적인 4가지 유형
  - 일괄처리 운영체제
  - 시분할 운영체제
  - 실시간 운영체제
  - 분산 운영체제
- **일괄처리 운영체제(Batch processing)**
  - 작업을 모아서 **순서대로 처리**하는 방식
  - 사람(오퍼레이터)이 하던 일을 프로그램이 빠르게 처리하게 되면서 전체적인 작업 처리 속도가 향상됨
    - 운영체제가 없던 시절, 작업 처리를 위해서는 사람(오퍼레이터)이 직접 처리할 것을 하나하나 넣고 빼야 했음
  - 나중에 들어온 작업은 **앞선 작업들이 모두 끝날 때까지** 아무런 상호작용 없이 기다려야만 함
- **시분할 운영체제(Time-sharing)**
  - 각 사용자의 프로그램을 **한 번에 조금씩 수행**하는 방식
  - 대화형(interactive) 운영체제라고도 함
  - 사용자들은 마치 혼자 컴퓨터를 사용하는 듯한 느낌을 받음
  - 응답시간이 일괄처리 운영체제보다 크게 단축됨 (앞의 작업이 모두 끝나길 기다릴 필요가 없으므로)
    - **응답시간** : 요청한 시점부터 반응이 시작되는 시점까지의 소요시간
- **실시간 운영체제(Real-time), RTOS**
  - 원하는 시간 내에 프로그램의 결과를 얻을 수 있는 방식
  - 처리 결과가 현재의 결정에 영향을 주는 환경에서 사용됨
    - `예) 미사일 제어 시스템, 증권거래 관리 시스템 등`
  - 중요한 작업에 대한 **처리 기한을 맞추는 것이 중요**
    - **우선순위가 높은 작업을 우선 처리**할 수 있는 기법 활용
- **분산 운영체제**
  - 분산 시스템을 관리하기 위한 운영체제
    - **분산 시스템** : 2개 이상의 컴퓨터 시스템이 네트워크로 서로 연결되어 서로의 자원을 이용하는 시스템
  - 다른 컴퓨터 시스템의 자원을 이용하는 것이 **마치 자신의 컴퓨터 시스템에 있는 자원을 이용하는 것처럼 가능**해야 함
  - 13강에서 상세히 설명
### 1강 정리하기
- **운영체제**는 컴퓨터 시스템의 자원을 관리하고 컴퓨터 프로그램이 동작하기 위한 서비스를 제공하는 프로그램들의 모습으로 대표적인 시스템 소프트웨어이다.
- **커널 모드**는 하드웨어를 직접 제어할 수 있는 CPU의 명령어를 사용할 수 있는 모드이고, **사용자 모드**는 하드웨어를 직접 제어할 수 있는 CPU의 명령어를 사용할 수 없는 모드이다.
- 응용 프로그램은 사용자 모드에서 동작하기에, 하드웨어에 대한 제어가 필요한 경우 **시스템 호출**을 통해 필요한 서비스를 운영체제에 요청해야 한다.
- 운영체제의 주요 구성요소에는 **프로세스 관리자**, **메모리 관리자**, **장치 관리자**, **파일 관리자**가 있다.
- 운영체제의 대표적인 유형으로는 **일괄처리 운영체제**, **시분할 운영체제**, **실시간 운영체제**, **분산 운영체제**가 있다.
